# TEST:  insert
#
# Virtual-ISA: tactyk_core
# Templates:
#   insert simd-format-xmmx-data (I8XD I16XD I32XD I64XD)
#   insert simd-format-xmmx-xmmx (F32XX F64XX)
#   insert simd-format-xmmx-integer (I8XI I16XI I32XI I64XI)
#   insert simd-format-xmmx-const (I8XC I16XC I32XC I64XC)
#   insert simd-format-xmmx-float (F32XF F64XF)
#   insert simd-format-xmmx-fconst (F32XCf F64XCf)

PROGRAM
  const C05 h.05
  const C10 h.10
  const C20 h.20
  const C50 h.50
  const C1234aa h.1234aa
  const C11 h.11
  const C14 h.14
  const C15 h.15
  const Caaa1 h.aaa1
  const Cbbb2 h.bbb2
  const Ccd03 h.cd03
  const C1010 h.1010
  const C99999999 h.99999999
  const Cfade h.fade
  const Caaa1bbb2 h.aaa1bbb2
  const Cbbb2ccc412345678 h.bbb2ccc412345678
  const Ccd036 h.cd036
  const Ccd036000aaa1bbb2 h.cd036000aaa1bbb2
  const C12345678bbb2ccc4 h.12345678bbb2ccc4
  
  const Cf6464.23410978 6464.23410978
  const Cf7.10978 7.10978
  const Cf64.234178 64.234178
  const Cf1000.0 1000.0
  const Cf3333.3 3333.3
  const Cf4.4 4.4
  
  RESET:
    spread rA 0 0 0 0 0 0
    spread xA 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
    exit

  TEST_I8XD:
    spread rA  h.01 h.06 h.1a  h.41 h.81 h.104
    insert uint8.1  xA rF
    insert int8.3   xA rA
    insert uint8.6  xA rE
    insert int8.12  xA rB
    insert uint8.15 xA rD
    insert int8.16  xA rC
    exit
  TEST_I16XD:
    spread rA  h.94ab h.f00f h.1234  h.abcd h.1359 h.b10c01
    insert uint16.1 xB rF
    insert int16.3  xB rA
    insert uint16.4 xB rE
    insert int16.5  xB rB
    insert uint16.6 xB rD
    insert int16.8  xB rC
    exit
  TEST_I32XD:
    spread rA h.1234abcd h.fff000ee h.12321000 h.33333333
    insert uint32.1 xC rA
    insert int32.2 xC rD
    insert uint32.3 xC rC
    insert int32.4 xC rB
    exit
  TEST_I64XD:
    spread rA h.abcdef0123456789 h.1515898920aabbbb
    insert uint64.1 xD rB
    insert int64.2  xD rA
    exit
  
  TEST_F32XX:
    spread xK 123.234 231.123 34507.123 498761.1
    insert float32.1 xE xM
    insert float32.2 xE xN
    insert float32.3 xE xL
    insert float32.4 xE xK
    exit
  TEST_F64XX:
    spread xM 1.05 -2.05
    insert float64.1 xF xM
    insert float64.2 xF xN
    exit
  
  TEST_I8XI:
    insert uint8.1 xG h.05
    insert int8.2 xG h.10
    insert uint8.3 xG h.20
    insert int8.6 xG h.50
    insert uint8.9 xG h.1234aa
    insert int8.12 xG h.11
    insert uint8.15 xG h.14
    insert int8.16 xG h.15
    exit
  TEST_I16XI:
    insert int16.1 xH h.aaa1
    insert uint16.2 xH h.bbb2
    insert int16.4 xH h.cd03
    insert uint16.5 xH h.1010
    insert int16.6 xH h.99999999
    insert uint16.8 xH h.fade
    exit
  TEST_I32XI:
    insert int32.1 xI h.aaa1bbb2
    insert uint32.2 xI h.bbb2ccc412345678
    insert int32.4 xI h.cd036
    exit
  TEST_I64XI:
    insert int64.1 xJ h.cd036000aaa1bbb2
    insert uint64.2 xJ h.12345678bbb2ccc4
    exit

  TEST_I8XC:
    insert uint8.1 xG C05
    insert int8.2 xG C10
    insert uint8.3 xG C20
    insert int8.6 xG C50
    insert uint8.9 xG C1234aa
    insert int8.12 xG C11
    insert uint8.15 xG C14
    insert int8.16 xG C15
    exit
  
  TEST_I16XC:
    insert uint16.1 xH Caaa1
    insert int16.2 xH Cbbb2
    insert uint16.4 xH Ccd03
    insert int16.5 xH C1010
    insert uint16.6 xH C99999999
    insert int16.8 xH Cfade
    exit
  
  TEST_I32XC:
    insert uint32.1 xI Caaa1bbb2
    insert int32.2 xI Cbbb2ccc412345678
    insert uint32.4 xI Ccd036
    exit

  TEST_I64XC:
    insert uint64.1 xJ Ccd036000aaa1bbb2
    insert int64.2 xJ C12345678bbb2ccc4
    exit
  
  TEST_F32XF:
    insert f32.1 xK 45.1
    insert f32.3 xK NaN
    insert f32.4 xK 12341.6
    exit
  
  TEST_F32XCf:
    insert f32.1 xL Cf6464.23410978
    insert f32.2 xL Cf7.10978
    insert f32.3 xL Cf64.234178
    insert f32.4 xL Cf1000.0
    exit
  
  TEST_F64XF:
    insert f64.1 xM 1111111111111.1
    insert f64.2 xM 2222222.2
    exit
  
  TEST_F64XCf:
    insert f64.1 xN Cf3333.3
    insert f64.2 xN Cf4.4
    exit

XMM-DISPLAYMODE int32
EXEC TEST_I8XD
TEST
  rA 1
  rB 6
  rC 26
  rD 65
  rE 129
  rF 260
  xA int64 h.0000810000010004 h.1a41000006000000

EXEC TEST_I16XD
TEST
  rA h.94ab
  rB h.f00f
  rC h.1234
  rD h.abcd
  rE h.1359
  rF h.b10c01
  xB int64 h.135994ab00000c01 h.12340000abcdf00f

EXEC TEST_I32XD
TEST
  rA h.1234abcd
  rB h.fff000ee
  rC h.12321000
  rD h.33333333
  xC int32 h.1234abcd h.33333333 h.12321000 h.fff000ee

XMM-DISPLAYMODE int64
EXEC TEST_I64XD
TEST
  rA h.abcdef0123456789
  rB h.1515898920aabbbb
  xD int64 h.1515898920aabbbb h.abcdef0123456789

XMM-DISPLAYMODE float32
EXEC TEST_F32XX
TEST
  xK 123.234
  xL 231.123
  xM 34507.123
  xN 498761.1
  xE float32 34507.123 498761.1 231.123 123.234

XMM-DISPLAYMODE float64
EXEC TEST_F64XX
TEST
  xM 1.05
  xN -2.05
  xF float64 1.05 -2.05

XMM-DISPLAYMODE int32
EXEC TEST_I8XI
TEST
  xG int64 h.0000500000201005 h.15140000110000aa

EXEC TEST_I16XI
TEST
  xH int64 h.cd030000bbb2aaa1 h.fade000099991010

EXEC TEST_I32XI
TEST
  xI int64 h.12345678aaa1bbb2 h.000cd03600000000

XMM-DISPLAYMODE int64
EXEC TEST_I64XI
TEST
  xJ int64 h.cd036000aaa1bbb2 h.12345678bbb2ccc4

EXEC RESET
TEST
  rA 0
  rB 0
  rC 0
  rD 0
  rE 0
  rF 0
  xA 0
  xB 0
  xC 0
  xD 0
  xE 0
  xF 0
  xG 0
  xH 0
  xI 0
  xJ 0
  xK 0
  xL 0
  xM 0
  xN 0

XMM-DISPLAYMODE int32
EXEC TEST_I8XC
TEST
  xG int64 h.0000500000201005 h.15140000110000aa

EXEC TEST_I16XC
TEST
  xH int64 h.cd030000bbb2aaa1 h.fade000099991010

EXEC TEST_I32XC
TEST
  xI int64 h.12345678aaa1bbb2 h.000cd03600000000

XMM-DISPLAYMODE int64
EXEC TEST_I64XC
TEST
  xJ int64 h.cd036000aaa1bbb2 h.12345678bbb2ccc4

XMM-DISPLAYMODE float32
EXEC TEST_F32XF
TEST
  xK float32 45.1 0 NaN 12341.6

EXEC TEST_F32XCf
TEST
  xL float32 6464.23410978 7.10978 64.234178 1000.0

XMM-DISPLAYMODE float64
EXEC TEST_F64XF
TEST
  xM float64 1111111111111.1 2222222.2

EXEC TEST_F64XCf
TEST
  xN float64 3333.3 4.4

