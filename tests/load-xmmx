# TEST:  Load floating point values from memory
# 
# Virtual-ISA: tactyk_core
# 
# Coverage:
#   load float-xmmx-addr-data (XXAI)
#   load float-xmmx-addr-data (XXAC)
#   load float-xmmx-addr-data (XXAD)
#   load float-data-addr-data (XXAI)
#   load float-data-addr-data (XXAC)
#   load float-data-addr-data (XXAD)

PROGRAM
  struct s1
    8 va
    8 vb
    8 vc
    8 vd
    8 ve
    8 vf
    8 vg
    8 vh
  const C24 24
  const C0 0
  const C16 16
  data m1 s1 23123
    123.456
    -345.78901
    6134324.213
    1.523
    234.345543
    5432.12
    678.9
    10000.1234
  
  LOAD_SOME_FLOATS:
    bind addr1 m1
    assign a 0
    assign b 8
    assign c 16
    assign d 24
    load float xA addr1 s1.va
    load float xB addr1 s1.vb
    load float xC addr1 s1.vc
    load float xD addr1 s1.vd
    load float xE addr1 32
    load float xF addr1 40
    load float xG addr1 48
    load float xH addr1 56
    load float xI addr1 a
    load float xJ addr1 b
    load float xK addr1 c
    load float xL addr1 d
    load float xM addr1 s1.va
    load float xN addr1 s1.vb
    exit
  LOAD_N_TrUNCATE:
    load float rA addr1 a
    load float rF addr1 c
    load float rC addr1 b
    load float rB addr1 s1.vh
    load float rD addr1 s1.ve
    load float rE addr1 48
    
    exit

EXEC LOAD_SOME_FLOATS
TEST
  addr1 m1 0
  rA 0
  rB 8
  rC 16
  rD 24
  xA 123.456
  xB -345.78901
  xC 6134324.213
  xD 1.523
  xE 234.345543
  xF 5432.12
  xG 678.9
  xH 10000.1234
  xI 123.456
  xJ -345.78901
  xK 6134324.213
  xL 1.523
  xM 123.456
  xN -345.78901

EXEC LOAD_N_TrUNCATE
TEST
  rA 123
  rB 10000
  rC -345
  rD 234
  rE 678
  rF 6134324






