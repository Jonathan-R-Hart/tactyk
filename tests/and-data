# TEST:  bitwise and
# 
# Virtual-ISA: tactykcore
# Templates:  and data-data (DD), and data-integer (AI) and data-const (AC)

PROGRAM
  const CX  b.1111111111111111111111111111111111111111111111111111111111111111
  
  const CD1 b.1010101011110011111010111110110001111011111111101110111011101110
  const CD2 b.0010101000010101111100100100010111100001110011001110101101010000
  #           0010101000010001111000100100010001100001110011001110101001000000
  
  const CE1 b.0000000000001110111100100010100101111111111111110011110001101010
  const CE2 b.0101101111111110001010001010001010100010010001010111101010001001
  #           0000000000001110001000000010000000100010010001010011100000001000
  
  const CF1 b.1010100100100100101001010100000010110100101010010100101001010010
  const CF2 b.1111111110000000000000011111101111111100000000000011111111100010
  #           1010100100000000000000010100000010110100000000000000101001000010
  
  DO_INTS:
    assign a  b.1111111111111111111111111111111111111111111111111111111111111111
    and a     b.1111111100000000111111110000000011111111000000001111111100000000
    and a     b.1111111100000000000000000000000011111111000000000000000000000000
    and a     b.1111111100000000000000000000000000000000000000000000000000000000
    #         b.1111111100000000000000000000000000000000000000000000000000000000
    
    assign b  b.1111111111111111111111111111111111111111111111111111111111111111
    and b     b.1111111100000000111111110000000011111111000000001111111100000000
    and b     b.0000111111110000000011111111000000001111111100000000111111110000
    and b     b.0011111111000000001111111100000000111111110000000011111111000000
    #         b.0000111100000000000011110000000000001111000000000000111100000000
    
    assign c  b.1111111111111111111111111111111111111111111111111111111111111111
    and c     b.1001010010101001101010010010101001111100100101110100101010101001
    and c     b.0010100010101010101001010001111010101101010010101111100101010001
    and c     b.1001000101011010101010011110101101101010101001110101011000001000
    #         b.0000000000001000101000010000101000101000000000100100000000000000
    
    exit
  
  DO_CONSTS:
    assign d CX
    and d CD1
    and d CD2
    assign e CX
    and e CE1
    and e CE2
    assign f CX
    and f CF1
    and f CF2
    exit
  
  DO_REGS:
    and a d
    and b e
    and c f
    and d b
    and e c
    and f a
    exit

EXEC DO_INTS

TEST
  rA b.1111111100000000000000000000000000000000000000000000000000000000
  rB b.0000111100000000000011110000000000001111000000000000111100000000
  rC b.0000000000001000101000010000101000101000000000100100000000000000

EXEC DO_CONSTS
TEST
  rD b.0010101000010001111000100100010001100001110011001110101001000000
  rE b.0000000000001110001000000010000000100010010001010011100000001000
  rF b.1010100100000000000000010100000010110100000000000000101001000010

EXEC DO_REGS
TEST
  #   b.1111111100000000000000000000000000000000000000000000000000000000
  #   b.0010101000010001111000100100010001100001110011001110101001000000
  rA  b.0010101000000000000000000000000000000000000000000000000000000000
  
  #   b.0000111100000000000011110000000000001111000000000000111100000000
  #   b.0000000000001110001000000010000000100010010001010011100000001000
  rB  b.0000000000000000000000000000000000000010000000000000100000000000
  
  #   b.0000000000001000101000010000101000101000000000100100000000000000
  #   b.1010100100000000000000010100000010110100000000000000101001000011
  rC  b.0000000000000000000000010000000000100000000000000000000000000000
  
  #   b.0010101000010001111000100100010001100001110011001110101001000000
  #   b.0000111100000000000011110000000000001111000000000000111100000000
  rD  b.0000000000000000000000000000000000000000000000000000100000000000
  
  #   b.0000000000001110001000000010000000100010010001010011100000001000
  #   b.0000000000000000000000010000000000100000000000000000000000000000
  rE  b.0000000000000000000000000000000000100000000000000000000000000000
  
  #   b.1010100100000000000000010100000010110100000000000000101001000010
  #   b.0010101000000000000000000000000000000000000000000000000000000000
  rF  b.0010100000000000000000000000000000000000000000000000000000000000
