# TEST:  extract
#
# Virtual-ISA: tactyk_core
# Templates:
#
#   extract simd-format-xmmx-xmmx (F32XX F64XX)
#   extract simd-format-data-xmmx (I8DX I16DX I32DX I64DX)

PROGRAM
  TEST_INIT:
    insert i64.1 xA h.1234567890abcdef
    insert i64.2 xA h.fedcba0987654321
    exit
  
  TEST_I8DX:
    extract i8.1 rA xA
    extract ui8.5 rB xA
    extract i8.6 rC xA
    extract ui8.11 rD xA
    extract i8.9 rE xA
    extract ui8.16 rF xA
    exit
  TEST_I16DX:
    extract i16.1 rA xA
    extract ui16.5 rB xA
    extract i16.6 rC xA
    extract ui16.3 rD xA
    extract i16.2 rE xA
    extract ui16.4 rF xA
    exit
  TEST_I32DX:
    extract i32.1 rA xA
    extract ui32.3 rD xA
    extract i32.2 rE xA
    extract ui32.4 rF xA
    exit
  TEST_I64DX:
    extract int64.1 rA xA
    extract uint64.2 rE xA
    exit
  
  TEST_F32XX:
    insert f32.1 xB 100.1234
    insert f32.2 xB 120.1234
    insert f32.3 xB 133.1234
    insert f32.4 xB 144.4000
    extract f32.4 xC xB
    extract f32.3 xD xB
    extract f32.2 xE xB
    extract f32.1 xF xB
    exit
  TEST_F64XX:
    insert f64.1 xG 86546754.12354124
    insert f64.2 xG 12354124.86546754
    extract f64.1 xH xG
    extract f64.2 xI xG
    exit

XMM-DISPLAYMODE int64
EXEC TEST_INIT
TEST
  xA int64 h.1234567890abcdef h.fedcba0987654321

EXEC TEST_I8DX
TEST
  rA h.ef
  rB h.78
  rC h.56
  rD h.65
  rE h.21
  rF h.fe

EXEC TEST_I16DX
TEST
  rA h.cdef
  rB h.4321
  rC h.8765
  rD h.5678
  rE h.90ab
  rF h.1234

EXEC TEST_I32DX
TEST
  rA h.90abcdef
  rD h.87654321
  rE h.12345678
  rF h.fedcba09

EXEC TEST_I64DX
TEST
  rA h.1234567890abcdef
  rE h.fedcba0987654321

XMM-DISPLAYMODE float64
EXEC TEST_F32XX
TEST
  xB float32 100.1234 120.1234 133.1234 144.4000
  xC float32+ 144.4000
  xD float32+ 133.1234
  xE float32+ 120.1234
  xF float32+ 100.1234

EXEC TEST_F64XX
TEST
  xG float64 86546754.12354124 12354124.86546754
  xH 86546754.12354124
  xI 12354124.86546754







